<div data-ng-controller="generalCareController as generalCareVM" data-ng-init="generalCareVM.getProgramType();">
    <!-- Content Wrapper. Contains page content -->
    <div class="col-sm-8 col-xs-12 col-md-9 col-lg-10 ">
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
        </section>

        <!-- Main content -->
        <section class="content">
            <!-- Your Page Content Here -->
            <div class="row">
                <div class="col-md-10 col-xs-12 col-md-offset-1">
                    <div class="box box-primary">
                        <div class="box-header">
                            <div class="col-md-10 box-title">
                                {{ 'ADD GENERAL CARE' | translate }}
                            </div>
                        </div>
                        <div class="box-body">
                            <form role="form" name="publishForm" enctype="multipart/form-data" data-ng-submit="generalCareVM.addGeneralCare(publishForm.$valid)">
                                <div class="col-md-6">
                                    <div class="col-md-12 no-padding">
                                        <label class="control-label">{{'GENERAL CARE NAME'| translate}}</label>
                                        <input type="text" name="religiousPaymentName" required maxlength="80" data-ng-model="generalCareVM.generalCareName" class="form-control col-md-6"
                                            placeholder="{{'GENERAL CARE NAME'| translate}}" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="col-md-12  no-padding">
                                        <label class="control-label">{{'GENERAL CARE SLUG' | translate}}</label>
                                        <input type="text" required maxlength="80"
                                            data-ng-model="generalCareVM.generalCareSlug"
                                            class="form-control col-md-6" placeholder="{{'GENERAL CARE SLUG' | translate}}" />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-12 no-padding"><BR>
                                        <label class="control-label">{{'GENERAL CARE DESCRIPTION'| translate}}</label><BR><BR>
                                        <!--<textarea style="resize: horizontal; max-width: 400px; min-width: 350px;" type="text" name="generalCareDescription" required-->
                                            <!--maxlength="500" data-ng-model="generalCareVM.generalCareDescription" class="form-control col-md-6"-->
                                            <!--placeholder="General Care Description" />-->
                                        <div id="editor" aria-placeholder="Write">
                                            <div id='addgeneralcare' name="addgeneralcare">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 no-padding" style="margin-top:20px">
                                    <div class="col-md-4">
                                        <input type="checkbox" name="hasSubCategory" ng-model="generalCareVM.hasCategories" />{{ 'SUB CATEGORIES' | translate }}
                                    </div>
                                    <div class="col-md-10" ng-show="generalCareVM.hasCategories">
                                        <table class="table table-bordered">
                                            <thead class="success">
                                                <td class="col-md-2"> {{ 'SELECT' | translate }}</td>
                                                <td>{{ 'CATEGORIES' | translate }}</td>
                                            </thead>
                                            <tr ng-repeat="x in generalCareVM.generalCareCategories track by $index">
                                                <td>
                                                    <input type="checkbox" class="" ng-click="generalCareVM.addOrRemoveSubcategory(x)">
                                                </td>
                                                <td>{{x.programSubCategoryName}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="col-md-6" style="margin-top:20px">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <label class="control-label">{{ 'GENERAL CARE IMAGE' | translate }}</label>
                                            <input type="file" name="file" required file-model="generalCareVM.file" class="image " placeholder="{{ 'GENERAL CARE IMAGE' | translate }}" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" style="margin-top:20px">
                                    <div class="box box-info">
                                        <div class="box-header">
                                            <h3 class="box-title">{{ 'DONATION PROCESS' | translate }}</h3>
                                        </div>

                                        <div class="box-body">
                                            <div class="col-md-12">
                                                <div class="col-md-8">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="minimumAmount" ng-model="generalCareVM.isMinimumAmount" /> {{ 'MIN AMOUNT' | translate }}</label>
                                                    </div>
                                                    <div class="col-md-4" ng-show="generalCareVM.isMinimumAmount">
                                                        <label>{{'ENTER VALUE' | translate }}</label>
                                                        <div class="input-group date">
                                                            <input type="number" class="form-control pull-right validateNumber" maxlength="8" ng-required="generalCareVM.isMinimumAmount" ng-model="generalCareVM.minimumAmount"
                                                            />
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="recurring" ng-model="generalCareVM.isRecurring" /> {{'RECURRING' | translate }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="yearAround" ng-model="generalCareVM.isYearAround" /> {{ 'YEAR AROUND' | translate }}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="isSyed" 
                                                                ng-model="generalCareVM.isSyed" /> {{'SYED' | translate}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="amount" ng-model="generalCareVM.isAmount" /> {{'AMOUNT' | translate }}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12" ng-show="generalCareVM.isAmount">
                                                <div class="col-md-4">
                                                    <label>{{'AMOUNT' | translate }}</label>
                                                    <div class="input-group date">
                                                        <input type="number" maxlength="8" class="form-control pull-right validateNumber" ng-model="generalCareVM.amount" ng-required="generalCareVM.isAmount"
                                                        />
                                                    </div>
                                                </div>
                                                <label ng-if="generalCareVM.minimumAmount > 0 && generalCareVM.minimumAmount > generalCareVM.amount" class="text-danger">Fixed Amount should be greater than minimum amount</label>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="duration" ng-model="generalCareVM.isDuration" /> 
                                                            {{ 'DURATION' | translate }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12" ng-show="generalCareVM.isDuration">
                                                <div class="col-md-4">
                                                    <label>{{'START DATE'| translate}}</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" id="txtFromDate" ng-click="setPosFromDate();" ng-change="startDateChange()" class="form-control pull-right readonly"
                                                            ng-required="generalCareVM.isDuration" ng-model="generalCareVM.StartDate"
                                                        />
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label>{{'END DATE'| translate}}</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" id="txtToDate" class="form-control pull-right readonly" ng-click="setPosToDate();" ng-required="generalCareVM.isDuration"
                                                            ng-model="generalCareVM.EndDate" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-2">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" name="isCount" ng-model="generalCareVM.isCount" /> {{ 'COUNT' | translate }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12" ng-show="generalCareVM.isCount">
                                                <div class="col-md-4">
                                                    <label>{{'MIN' | translate}}</label>
                                                    <input type="text" class="form-control validateNumber" ng-model="generalCareVM.count.min" maxlength="3" ng-required="generalCareVM.isCount"
                                                        placeholder="1" />
                                                </div>
                                                <div class="col-md-4">
                                                    <label>{{'MAX' | translate}}</label>
                                                    <input type="text" class="form-control validateNumber" ng-model="generalCareVM.count.max" maxlength="3" ng-required="generalCareVM.isCount"
                                                        placeholder="100" />
                                                </div>
                                                <div class="col-md-4">
                                                    <label>{{ 'INTERVAL' | translate }}</label>
                                                    <input type="text" class="form-control validateNumber" ng-model="generalCareVM.count.interval" maxlength="3" ng-required="generalCareVM.isCount"
                                                        placeholder="10" />
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="col-md-4" style="margin-top: 10px;">
                                                    <label>{{ 'PRIORITY RANK' | translate }}</label>
                                                    <input type="number" class="form-control validateNumber"
                                                        ng-model="generalCareVM.programPriority" min='1'
                                                        required placeholder="1" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-2 col-md-offset-10">
                                                <button name="publish" type="submit" class="btn btn-primary pull-right"
                                                ng-disabled="(generalCareVM.isMinimumAmount && generalCareVM.isAmount) && generalCareVM.minimumAmount > 0 && (generalCareVM.minimumAmount > generalCareVM.amount)"
                                                style="margin-top:5px;">{{'ADD GENERAL CARE'| translate}}</button>
                                            </div>
                                        </div>
                            </form>
                            </div>
                            </div>
                        </div>
                    </div>
        </section>
        <!-- /.content -->
        </div>
        <!-- HEADER -->
</div>
        </div>
        <script>
            jQuery(document).on('keypress paste', '.validateNumber', function (event) {
                var regex = new RegExp(/^[A-Za-z~`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/);
                var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
                if (regex.test(key)) {
                    jQuery(this).focus();
                    jQuery(this).parent().next('span:first').html("<span class='inputError'></span>").show().fadeOut();
                    return false;
                } else {
                    jQuery(this).parent().next('span:first').html("");
                    return true;
                }
            });
            jQuery(".readonly").on('keydown paste', function (e) {
                e.preventDefault();
            });
        </script>
<script>
    jQuery(function () {
        jQuery('#addgeneralcare').editable({inlineMode: false, fullPage: true});
    });
</script>